<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>

        {% block title %}Gestion d'Ã©tudiants{% endblock %}
    </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.js"></script>
</head>

<style>
    input{
        outline: none;
    }
    textarea {
        outline: none;
    }
</style>

<body class="bg-slate-900 h-sreen overflow-hidden">
    {% include "add.html" %}
    <div class="container p-8 bg-slate-900 mx-auto h-100 rounded-xxl">
        <div class="p-4 bg-slate-800 flex justify-between">
            <div class="flex gap-2 items-center">
                {% block back_button %}
                {% endblock back_button %}
                
            <form action="/search">
                <input type="text" name="num" placeholder="Rechercher  par Numero"
                    class="w-45 rounded-lg px-4 py-2 text-black bg-slate-300   outline-none">
            </form>
            </div>
            <div>
                <button
                    onclick="my_modal_1.showModal()"
                    class="text-lg text-white py-1 px-3 rounded-lg font-bold bg-green-500 hover:bg-green-600 focus:outline-none focus:bg-green-500">
                    Ajouter
                </button>
            </div>
        </div>
        {% if students %}

        {% block table %}
        {% include "table.html" %}
        {% endblock table %}

        {% block paginate %}
        <div class="p-4 bg-slate-800 flex justify-end">
            <div>
                {% if page > 1 %}
                <button
                    class="text-lg text-black py-1 px-3 rounded-lg font-bold bg-slate-300 hover:bg-slate-400 focus:outline-none focus:bg-slate-300"
                    type="button" title="prec" id="prec" data-page="{{ page }}">
                    <span class="fas fa-arrow-circle-left"></span>
                </button>
                {% endif %}
                {% if page <= np %} <button
                    class="text-lg text-black py-1 px-3 rounded-lg font-bold bg-slate-300 hover:bg-slate-400 focus:outline-none focus:bg-slate-300"
                    type="button" title="next" id="next" data-page="{{ page }}">
                    <span class="fas fa-arrow-circle-right"></span>
                    </button>
                    {% endif %}
            </div>
        </div>
        {% endblock paginate %}
        {% else %}
        <div class="flex flex-col justify-center items-center h-100">
            <h1 class="text-xl text-slate-100 py-4 font-bold">Aucun etudiant Trouvee</h1>

            <a href="/par_page=15/page=1">
                <button
                    class="text-xl text-slate-900 py-2 px-4 rounded-lg font-bold bg-slate-200 hover:bg-slate-300 focus:outline-none focus:bg-slate-300">
                    toutes les donnees
                </button>
            </a>
        </div>
        {% endif %}
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js"
        integrity="sha512-GWzVrcGlo0TxTRvz9ttioyYJ+Wwk9Ck0G81D+eO63BaqHaJ3YZX9wuqjwgfcV/MrB2PhaVX9DkYVhbFpStnqpQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        let prec = $("#prec")
        let next = $("#next")
        $(prec).click(function (e) {
            let page = $(this).data("page")
            let prev_page = 1
            if (page > 1) {
                prev_page = page - 1
            }
            window.location.href = '/page=' + prev_page;

        })
        $(next).click(function (e) {
            let page = $(this).data("page")
            let nex_page = page + 1
            window.location.href = '/page=' + nex_page;
        })
    </script>
</body>

</html>